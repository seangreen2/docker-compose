nginx-proxy-manager:

    cap_drop:
      - "AUDIT_CONTROL"
      - "BLOCK_SUSPEND"
      - "DAC_READ_SEARCH"
      - "IPC_LOCK"
      - "IPC_OWNER"
      - "LEASE"
      - "LINUX_IMMUTABLE"
      - "MAC_ADMIN"
      - "MAC_OVERRIDE"
      - "NET_ADMIN"
      - "NET_BROADCAST"
      - "SYSLOG"
      - "SYS_ADMIN"
      - "SYS_BOOT"
      - "SYS_MODULE"
      - "SYS_NICE"
      - "SYS_PACCT"
      - "SYS_PTRACE"
      - "SYS_RAWIO"
      - "SYS_RESOURCE"
      - "SYS_TIME"
      - "SYS_TTY_CONFIG"
      - "WAKE_ALARM"

    container_name: "nginx-proxy-manager"

    entrypoint:
      - "/init"

    environment:
      - "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
      - "SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt"
      - "OPENRESTY_VERSION=1.21.4.1"
      - "CROWDSEC_OPENRESTY_BOUNCER_VERSION=0.1.7"
      - "CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt"
      - "SUPPRESS_NO_CONFIG_WARNING=1"
      - "S6_BEHAVIOUR_IF_STAGE2_FAILS=1"
      - "S6_CMD_WAIT_FOR_SERVICES_MAXTIME=0"
      - "S6_FIX_ATTRS_HIDDEN=1"
      - "S6_KILL_FINISH_MAXTIME=10000"
      - "S6_VERBOSITY=1"
      - "NODE_ENV=production"
      - "NPM_BUILD_VERSION=2.10.3"
      - "NPM_BUILD_COMMIT=824c837"
      - "NPM_BUILD_DATE=2023-05-10 04:56:28 UTC"

    hostname: "DietPi"

    image: "docker.io/jc21/nginx-proxy-manager:latest"

    ipc: "private"

    labels:
      maintainer: "Jamie Curnow <jc@jc21.com>"
      org.label-schema.cmd: "docker run --rm -ti jc21/nginx-proxy-manager:latest"
      org.label-schema.description: "Docker container for managing Nginx proxy hosts\
        \ with a simple, powerful interface "
      org.label-schema.license: "MIT"
      org.label-schema.name: "nginx-proxy-manager"
      org.label-schema.schema-version: "1.0"
      org.label-schema.url: "https://github.com/jc21/nginx-proxy-manager"
      org.label-schema.vcs-url: "https://github.com/jc21/nginx-proxy-manager.git"

    logging:
      driver: "journald"
      options: {}

    mac_address: "02:42:ac:11:00:11"

    network_mode: "bridge"

    ports:
      - "443:443/tcp"
      - "80:80/tcp"
      - "81:81/tcp"

    restart: "always"

    volumes:
      - "nginx-proxy-manager-data:/data"
      - "lets-encrypt-nginx:/letsencrypt"
      - "1e40e97b0dc40857962d45087b0a862a171760a87350dfe1cb79f241351b2bc1:/etc/letsencrypt"

    working_dir: "/app"